{% extends "base.html" %}
  {% block base_up %} 
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/css2.css' %}">
   {% endblock %}
    
  {% block base_end %} 
     <title>Upload CSV</title>
  {% endblock %}

{% block content %}<!-- Form-->
{% if messages %}
    {% for message in messages %}
        <div class="alert alert-info">
            <strong>{{message|safe}}</strong>
        </div>
    {% endfor %}
{% else %}
<div class="formcsv">
    <div class="alert alert-info" style="margin-bottom: 0;text-align: center; background-color:#343a40; color:white;">
        {{order}}
    </div>
    <div class="form-panel" style="padding-top: 5%;">
        <div class="form-header" style="text-align: center;">
            <h1>Upload CSV</h1>
        </div>
        <div class="form-content" style="margin-bottom: 10%;">
            <form action="" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="form-group">
                    <input id="file1" type="file" name="file" required="required"/>
                </div>
                <div class="form-group" style="align-items: center;
                justify-content: center;
                margin-top: 8%;">
                    <button type="submit">Upload</button>
                </div>
            </form>
        </div>
        <p style="text-align:center;">
        <a href="{% url 'export_file' %}" class="btn btn-primary" style="margin: 5px;">Export all users</a>
        <a href="{% url 'show' %}" class="btn btn-primary" style="margin: 5px;">View Tables</a>
        </p>
        <p style="text-align:center;">
            <a href="{% url 'train_model' %}" class="btn btn-primary" style="margin: 5px;">Train Model</a>
        </p>
        <div class="alert alert-warning" style="text-align: center;">
            <strong>Only accepts CSV files</strong>
        </div>
        {% if success %}
        <div class="alert alert-success" style="text-align: center;">
            <strong>Succesfully uploaded the data</strong>
        </div>
        {% endif %}
        {% if failure %}
        <div class="alert alert-danger" style="text-align: center;">
            <strong>Failed to upload the data</strong>
        </div>
        {% endif %}
    </div>
</div>
{% endif %}

{% endblock %}

  
